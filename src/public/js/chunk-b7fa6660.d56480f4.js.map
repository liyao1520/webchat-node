{"version":3,"sources":["webpack:///./src/views/auth/Register.vue?2c9f","webpack:///./src/api/auth.js","webpack:///./src/views/auth/Register.vue?4b6f","webpack:///src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?5cb3","webpack:///./src/views/auth/Register.vue","webpack:///./src/assets/img/bg.png"],"names":["require","request","register","username","password","sex","url","method","data","login","id","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_v","attrs","active","_s","user","_m","ref","form","rules","model","value","callback","$$v","$set","expression","staticStyle","on","submitForm","directives","name","rawName","staticRenderFns","validatePass","Error","registerStyle","backgroundImage","backgroundRepeat","backgroundSize","repassword","loadingIsShow","methods","submitClick","$refs","validate","valid","component"],"mappings":"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","file":"js/chunk-b7fa6660.d56480f4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=3c78c8e6&scoped=true&lang=css&\"","const { request } = require(\"./request\");\n\nfunction register(username, password, sex) {\n  return request({\n    url: \"/user\",\n    method: \"POST\",\n    data: {\n      username,\n      password,\n      sex,\n    },\n  });\n}\nfunction login(id, password) {\n  return request({\n    url: \"/login\",\n    method: \"POST\",\n    data: {\n      id,\n      password,\n    },\n  });\n}\nmodule.exports = {\n  register,\n  login,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\",style:(_vm.registerStyle)},[_c('div',{staticClass:\"form\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"用户注册\")]),_c('el-steps',{attrs:{\"active\":_vm.active,\"simple\":\"\"}},[_c('el-step',{attrs:{\"title\":\"填写表单\",\"icon\":\"el-icon-edit\"}}),_c('el-step',{attrs:{\"title\":\"提交表单\",\"icon\":\"el-icon-upload\"}}),_c('el-step',{attrs:{\"title\":\"完成注册\",\"icon\":\"el-icon-success\"}})],1),(this.active === 3)?_c('div',{staticClass:\"success\"},[_c('div',{staticClass:\"tips\"},[_vm._v(\"恭喜你注册成功!\")]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"username\"},[_vm._v(\" 昵称: \"),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.user.username))])]),_c('div',{staticClass:\"id\"},[_vm._v(\" 账号: \"),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.user.id))])])]),_vm._m(0)]):_c('div',{staticClass:\"main\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"昵称:\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"起一个好听的昵称~\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码:\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码:\",\"prop\":\"repassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"再次输入密码\"},model:{value:(_vm.form.repassword),callback:function ($$v) {_vm.$set(_vm.form, \"repassword\", $$v)},expression:\"form.repassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别:\"}},[_c('el-radio',{attrs:{\"label\":\"男\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"女\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"女\")])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-left\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingIsShow),expression:\"loadingIsShow\"}],staticClass:\"el-icon-loading loading\"})],1)],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg\"},[_vm._v(\"请牢记自己的账号\"),_c('a',{attrs:{\"href\":\"/login\"}},[_vm._v(\"去登陆\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register\" :style=\"registerStyle\">\n    <div class=\"form\">\n      <h2 class=\"title\">用户注册</h2>\n      <el-steps :active=\"active\" simple>\n        <el-step title=\"填写表单\" icon=\"el-icon-edit\"> </el-step>\n        <el-step title=\"提交表单\" icon=\"el-icon-upload\"> </el-step>\n        <el-step title=\"完成注册\" icon=\"el-icon-success\"></el-step>\n      </el-steps>\n      <div class=\"success\" v-if=\"this.active === 3\">\n        <div class=\"tips\">恭喜你注册成功!</div>\n        <div class=\"info\">\n          <div class=\"username\">\n            昵称: <span class=\"content\">{{ user.username }}</span>\n          </div>\n          <div class=\"id\">\n            账号: <span class=\"content\">{{ user.id }}</span>\n          </div>\n        </div>\n        <div class=\"msg\">请牢记自己的账号<a href=\"/login\">去登陆</a></div>\n      </div>\n      <div class=\"main\" v-else>\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\n          <el-form-item label=\"昵称:\" prop=\"username\">\n            <el-input\n              v-model=\"form.username\"\n              placeholder=\"起一个好听的昵称~\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码:\" prop=\"password\">\n            <el-input\n              v-model=\"form.password\"\n              type=\"password\"\n              placeholder=\"输入密码\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"确认密码:\" prop=\"repassword\">\n            <el-input\n              v-model=\"form.repassword\"\n              type=\"password\"\n              placeholder=\"再次输入密码\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"性别:\">\n            <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\n            <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              @click=\"submitForm\"\n              type=\"primary\"\n              style=\"margin-left: 80px\"\n              >提交</el-button\n            >\n            <i class=\"el-icon-loading loading\" v-show=\"loadingIsShow\"></i>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { register } from \"@/api/auth\";\n\nexport default {\n  data() {\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.form.password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      registerStyle: {\n        backgroundImage: `url(${require(\"assets/img/bg.png\")})`,\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n      },\n      form: {\n        username: \"\",\n        password: \"\",\n        repassword: \"\",\n        sex: \"男\",\n      },\n      active: 1,\n      loadingIsShow: false,\n      rules: {\n        username: [\n          { required: true, message: \"请输入昵称\", trigger: \"blur\" },\n          {\n            min: 1,\n            max: 10,\n            message: \"长度在 1 到 10 个字符\",\n          },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          {\n            required: true,\n            pattern: /^(?![A-Z]+$)(?![a-z]+$)(?!\\d+$)(?![\\W_]+$)\\S{8,16}$/,\n            message:\n              \"密码至少包含数字、大字母、小写字母、符号至少两种，8-16位长度\",\n            trigger: \"blur\",\n          },\n        ],\n        repassword: [{ validator: validatePass }],\n      },\n      user: {}, //用户信息\n    };\n  },\n  methods: {\n    submitClick() {\n      this.loadingIsShow = true;\n      this.active = 2;\n    },\n    submitForm() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          this.loadingIsShow = true;\n          this.active = 2;\n          let { username, password, sex } = this.form;\n          register(username, password, sex)\n            .then((res) => {\n              this.user = res.data;\n              console.log(this.user);\n              this.loadingIsShow = false;\n              this.active = 3;\n            })\n            .catch(() => {\n              this.loadingIsShow = false;\n              this.active = 1;\n              alert(\"服务器开了点小差~\");\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register {\n  position: relative;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n.form {\n  position: absolute;\n  width: 479px;\n  height: 506px;\n  background-color: #fff;\n  right: 136px;\n  top: 125px;\n  border-radius: 14px;\n}\n.title {\n  font-size: 20px;\n  font-weight: 700;\n  padding-top: 45px;\n  padding-left: 56px;\n  margin-bottom: 20px;\n}\n.main {\n  padding-left: 56px;\n  margin-top: 20px;\n}\n.main .el-input {\n  width: 247px;\n}\n.main .el-form-item__label {\n  width: 100px;\n  text-align: right;\n}\n.loading {\n  font-size: 20px;\n  margin-left: 20px;\n}\n.success .tips {\n  font-size: 25px;\n  text-align: center;\n  color: #0045ff;\n  margin-top: 40px;\n}\n.success .info {\n  padding-left: 30px;\n  font-size: 21px;\n}\n.success .info .username,\n.id {\n  margin: 30px 0;\n}\n.success .info .content {\n  padding-left: 50px;\n}\n.success .msg {\n  text-align: center;\n  margin-top: 90px;\n  font-size: 18px;\n}\n.success .msg > a {\n  color: #0045ff;\n}\n@media screen and (max-width: 800px) {\n  .form {\n    position: unset;\n    margin: 100px auto 0;\n    width: 373px;\n    border-radius: 10px;\n  }\n  .main {\n    padding-left: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=3c78c8e6&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=3c78c8e6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c78c8e6\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/bg.e6fccbaf.png\";"],"sourceRoot":""}